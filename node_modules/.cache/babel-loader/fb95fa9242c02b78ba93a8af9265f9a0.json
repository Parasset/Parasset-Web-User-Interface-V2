{"ast":null,"code":"import { useCallback, useEffect, useState } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useStakedBalanceOnBoardroom from './useStakedBalanceOnBoardroom';\n\nconst useBoardroomVersion = () => {\n  const [boardroomVersion, setBoardroomVersion] = useState('latest');\n  const basisCash = useBasisCash();\n  const stakedBalance = useStakedBalanceOnBoardroom();\n  const updateState = useCallback(async () => {\n    setBoardroomVersion((await basisCash.fetchBoardroomVersionOfUser()));\n  }, [basisCash === null || basisCash === void 0 ? void 0 : basisCash.isUnlocked, stakedBalance]);\n  useEffect(() => {\n    if (basisCash === null || basisCash === void 0 ? void 0 : basisCash.isUnlocked) {\n      updateState().catch(err => console.error(err.stack));\n    }\n  }, [basisCash === null || basisCash === void 0 ? void 0 : basisCash.isUnlocked, stakedBalance]);\n  return boardroomVersion;\n};\n\nexport default useBoardroomVersion;","map":{"version":3,"sources":["/Users/miczero/ParaAsset/src/hooks/useBoardroomVersion.ts"],"names":["useCallback","useEffect","useState","useBasisCash","useStakedBalanceOnBoardroom","useBoardroomVersion","boardroomVersion","setBoardroomVersion","basisCash","stakedBalance","updateState","fetchBoardroomVersionOfUser","isUnlocked","catch","err","console","error","stack"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,2BAAP,MAAwC,+BAAxC;;AAEA,MAAMC,mBAAmB,GAAG,MAAM;AAChC,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CL,QAAQ,CAAC,QAAD,CAAxD;AACA,QAAMM,SAAS,GAAGL,YAAY,EAA9B;AACA,QAAMM,aAAa,GAAGL,2BAA2B,EAAjD;AAEA,QAAMM,WAAW,GAAGV,WAAW,CAAC,YAAY;AAC1CO,IAAAA,mBAAmB,EAAC,MAAMC,SAAS,CAACG,2BAAV,EAAP,EAAnB;AACD,GAF8B,EAE5B,CAACH,SAAD,aAACA,SAAD,uBAACA,SAAS,CAAEI,UAAZ,EAAwBH,aAAxB,CAF4B,CAA/B;AAIAR,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,SAAJ,aAAIA,SAAJ,uBAAIA,SAAS,CAAEI,UAAf,EAA2B;AACzBF,MAAAA,WAAW,GAAGG,KAAd,CAAqBC,GAAD,IAASC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,KAAlB,CAA7B;AACD;AACF,GAJQ,EAIN,CAACT,SAAD,aAACA,SAAD,uBAACA,SAAS,CAAEI,UAAZ,EAAwBH,aAAxB,CAJM,CAAT;AAMA,SAAOH,gBAAP;AACD,CAhBD;;AAkBA,eAAeD,mBAAf","sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useStakedBalanceOnBoardroom from './useStakedBalanceOnBoardroom';\n\nconst useBoardroomVersion = () => {\n  const [boardroomVersion, setBoardroomVersion] = useState('latest');\n  const basisCash = useBasisCash();\n  const stakedBalance = useStakedBalanceOnBoardroom();\n\n  const updateState = useCallback(async () => {\n    setBoardroomVersion(await basisCash.fetchBoardroomVersionOfUser());\n  }, [basisCash?.isUnlocked, stakedBalance]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      updateState().catch((err) => console.error(err.stack));\n    }\n  }, [basisCash?.isUnlocked, stakedBalance]);\n\n  return boardroomVersion;\n};\n\nexport default useBoardroomVersion;\n"]},"metadata":{},"sourceType":"module"}