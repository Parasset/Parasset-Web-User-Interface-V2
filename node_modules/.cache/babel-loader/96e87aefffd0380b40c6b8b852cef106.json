{"ast":null,"code":"import { useCallback, useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport useBasisCash from './useBasisCash';\nimport config from '../config';\n\nconst useEarningsOnBoardroom = () => {\n  const [balance, setBalance] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n  const fetchBalance = useCallback(async () => {\n    setBalance((await basisCash.getEarningsOnBoardroom()));\n  }, [basisCash === null || basisCash === void 0 ? void 0 : basisCash.isUnlocked]);\n  useEffect(() => {\n    if (basisCash === null || basisCash === void 0 ? void 0 : basisCash.isUnlocked) {\n      fetchBalance().catch(err => console.error(err.stack));\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash === null || basisCash === void 0 ? void 0 : basisCash.isUnlocked, setBalance]);\n  return balance;\n};\n\nexport default useEarningsOnBoardroom;","map":{"version":3,"sources":["/Users/miczero/ParaAsset/src/hooks/useEarningsOnBoardroom.ts"],"names":["useCallback","useEffect","useState","BigNumber","useBasisCash","config","useEarningsOnBoardroom","balance","setBalance","from","basisCash","fetchBalance","getEarningsOnBoardroom","isUnlocked","catch","err","console","error","stack","refreshBalance","setInterval","refreshInterval","clearInterval"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,MAAMC,sBAAsB,GAAG,MAAM;AACnC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAACC,SAAS,CAACM,IAAV,CAAe,CAAf,CAAD,CAAtC;AACA,QAAMC,SAAS,GAAGN,YAAY,EAA9B;AAEA,QAAMO,YAAY,GAAGX,WAAW,CAAC,YAAY;AAC3CQ,IAAAA,UAAU,EAAC,MAAME,SAAS,CAACE,sBAAV,EAAP,EAAV;AACD,GAF+B,EAE7B,CAACF,SAAD,aAACA,SAAD,uBAACA,SAAS,CAAEG,UAAZ,CAF6B,CAAhC;AAIAZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,SAAJ,aAAIA,SAAJ,uBAAIA,SAAS,CAAEG,UAAf,EAA2B;AACzBF,MAAAA,YAAY,GAAGG,KAAf,CAAsBC,GAAD,IAASC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,KAAlB,CAA9B;AAEA,YAAMC,cAAc,GAAGC,WAAW,CAACT,YAAD,EAAeN,MAAM,CAACgB,eAAtB,CAAlC;AACA,aAAO,MAAMC,aAAa,CAACH,cAAD,CAA1B;AACD;AACF,GAPQ,EAON,CAACT,SAAD,aAACA,SAAD,uBAACA,SAAS,CAAEG,UAAZ,EAAwBL,UAAxB,CAPM,CAAT;AASA,SAAOD,OAAP;AACD,CAlBD;;AAoBA,eAAeD,sBAAf","sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport useBasisCash from './useBasisCash';\nimport config from '../config';\n\nconst useEarningsOnBoardroom = () => {\n  const [balance, setBalance] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n  const fetchBalance = useCallback(async () => {\n    setBalance(await basisCash.getEarningsOnBoardroom());\n  }, [basisCash?.isUnlocked]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      fetchBalance().catch((err) => console.error(err.stack));\n\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash?.isUnlocked, setBalance]);\n\n  return balance;\n};\n\nexport default useEarningsOnBoardroom;\n"]},"metadata":{},"sourceType":"module"}